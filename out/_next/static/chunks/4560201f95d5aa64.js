(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49535,e=>{e.v({hotels:[{id:"1",name:"Grand Hotel",location:{city:"Los Angeles",address:"123 Main Street",coordinates:{lat:34.0522,lng:-118.2437}},rating:4.5,pricePerNight:150,propertyType:"Hotel",distanceFromCenterKm:.8,amenities:["Free WiFi","Pool","Gym","Spa","Parking","Breakfast included"],image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400&h=300&fit=crop",available:!0,weekendDeal:{hasDeal:!0,originalPrice:25900,discountedPrice:15540,currency:"PKR",nights:2,reviewCount:3238},isGenius:!0},{id:"2",name:"Beachside Resort",location:{city:"Los Angeles",address:"456 Ocean Drive",coordinates:{lat:34.0522,lng:-118.2437}},rating:4.8,pricePerNight:220,propertyType:"Resort",distanceFromCenterKm:3.2,amenities:["Free WiFi","Pool","Beach access","Restaurant","Spa","Breakfast included","Parking"],image:"https://images.unsplash.com/photo-1551882547-ff40c63fe5fa?w=400&h=300&fit=crop",available:!0,weekendDeal:{hasDeal:!0,originalPrice:26912,discountedPrice:21530,currency:"PKR",nights:2,reviewCount:88},isGenius:!0},{id:"3",name:"City Center Hotel",location:{city:"Los Angeles",address:"789 Downtown Blvd",coordinates:{lat:34.0522,lng:-118.2437}},rating:4.2,pricePerNight:120,propertyType:"Apartment",distanceFromCenterKm:.4,amenities:["Free WiFi","Kitchen","Gym","Parking"],image:"https://images.unsplash.com/photo-1590490360182-c33d57733427?w=400&h=300&fit=crop",available:!0,weekendDeal:{hasDeal:!0,originalPrice:122400,discountedPrice:97920,currency:"PKR",nights:2,reviewCount:7},isGenius:!0},{id:"4",name:"Gulberg Guesthouse",location:{city:"Lahore",address:"Gulberg Main Boulevard",coordinates:{lat:31.5204,lng:74.3587}},rating:4,pricePerNight:80,propertyType:"Guesthouse",distanceFromCenterKm:2.5,amenities:["Free WiFi","Breakfast included","Parking"],image:"https://images.unsplash.com/photo-1578683010236-d716f9a3f461?w=400&h=300&fit=crop",available:!0,weekendDeal:{hasDeal:!0,originalPrice:17400,discountedPrice:13050,currency:"PKR",nights:2,reviewCount:247},isGenius:!0}]})},44314,e=>{"use strict";var t=e.i(49535),s=e.i(87539);let l=()=>({"X-RapidAPI-Key":s.HOTELS_CONFIG.API_KEY,"X-RapidAPI-Host":s.HOTELS_CONFIG.API_HOST}),a=async e=>{try{if(s.USE_MOCK_DATA||!e)return null;let t=await fetch(`${s.HOTELS_CONFIG.BASE_URL}/stays/auto-complete?query=${encodeURIComponent(e)}`,{headers:l()}),a=await t.json();if(!t.ok||!a.status||!a.data?.length)return null;let r=a.data.find(e=>"city"===e.dest_type)||a.data[0];return{destId:r.dest_id,destType:r.dest_type,name:r.name||r.city_name,country:r.country,label:r.label,locationId:r.id}}catch(e){return console.error("Error searching destination:",e),null}},r=async(e={})=>{try{if(s.USE_MOCK_DATA){await new Promise(e=>setTimeout(e,500));let s=t.default.hotels;return e.city&&(s=s.filter(t=>t.location.city.toLowerCase().includes(e.city.toLowerCase()))),(e.minPrice||e.maxPrice)&&(s=s.filter(t=>(!e.minPrice||t.pricePerNight>=e.minPrice)&&(!e.maxPrice||t.pricePerNight<=e.maxPrice))),s}let r=await a(e.city||e.destination||"Dubai");if(!r)throw Error("Could not find destination. Please try a different city.");let i=new Date,o=new Date(i);o.setDate(o.getDate()+1);let n=e.checkIn||i.toISOString().split("T")[0],d=e.checkOut||o.toISOString().split("T")[0],c=new URLSearchParams({locationId:r.locationId,checkinDate:n,checkoutDate:d,adults:e.adults||2,rooms:e.rooms||1,page:e.page||1});e.currency&&c.append("currency",e.currency),e.sortBy&&c.append("sortBy",e.sortBy);let x=await fetch(`${s.HOTELS_CONFIG.BASE_URL}/stays/search?${c}`,{headers:l()}),u=await x.json();if(!x.ok||!u.status)throw console.error("Hotels API error:",u),Error(`Hotels API error: ${u.message||u.errors?.location||x.statusText}`);return u.data&&Array.isArray(u.data)?u.data.map((e,t)=>{let s=e.priceBreakdown?.grossPrice?.value||0,l=e.priceBreakdown?.grossPrice?.currency||e.currency||"USD",a=e.priceBreakdown?.grossPrice?.amountRounded||`${l} ${s.toFixed(0)}`,r=e.photoUrls?.[0]||"/images/hotel-placeholder.jpg";return{id:e.id?.toString()||`hotel-${t}`,name:e.name||"Unknown Hotel",description:e.reviewScoreWord||"",rating:e.reviewScore||0,reviewScore:e.reviewScore||0,reviewCount:e.reviewCount||0,reviewScoreWord:e.reviewScoreWord||"",stars:e.propertyClass||e.accuratePropertyClass||0,location:{address:"",city:e.wishlistName||"",country:e.countryCode?.toUpperCase()||"",latitude:e.latitude||0,longitude:e.longitude||0,distance:""},images:e.photoUrls||[],mainImage:r,pricePerNight:s,price:{amount:s,currency:l,formatted:a},amenities:["WiFi","Pool","Parking"],checkInTime:e.checkin?.fromTime||"15:00",checkOutTime:e.checkout?.untilTime||"11:00",checkinDate:e.checkinDate,checkoutDate:e.checkoutDate,url:"",raw:e}}):[]}catch(e){throw console.error("Error searching hotels:",e),e}};e.s(["searchHotels",0,r])},24663,20616,e=>{"use strict";var t=e.i(93955),s=e.i(47400),l=e.i(36982),a=e.i(8004);function r({mode:e="flights",onSearch:r,loading:i=!1}){let{filters:o,updateFilters:n,setDestinationMode:d,setBudgetPerPerson:c,setFlightTripType:x,setAdults:u,setChildren:m,setRooms:h}=(0,l.useStore)(),[p,b]=(0,s.useState)(!1),[f,g]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),C=(0,s.useRef)(null),D=(0,s.useRef)(!1),P=(0,s.useCallback)(e=>{e.preventDefault(),"function"==typeof r&&r(o),b(!1),g(!1),j(!1)},[o,r]),S=e=>t=>{n({[e]:"number"===t.target.type?Number(t.target.value)||0:t.target.value})},A=e=>{d(e)},[$,L]=(0,s.useState)(!1);(0,s.useEffect)(()=>{console.log("Dropdown states:",{isDatesOpen:v,isFlightTravellersOpen:$,isOriginOpen:y,isDestinationOpen:N})},[v,$,y,N]),(0,s.useEffect)(()=>{let e=e=>{if(D.current){D.current=!1;return}let t=e.target,s=C.current&&C.current.contains(t),l=t.closest(".absolute")||t.closest('[role="dialog"]')||t.closest('input[type="date"]');s||l||(console.log("Closing all dropdowns - clicked outside"),b(!1),g(!1),j(!1),L(!1),w(!1),k(!1))},t=e=>{"Escape"===e.key&&(console.log("Closing all dropdowns - Escape key"),b(!1),g(!1),j(!1),L(!1),w(!1),k(!1))};return document.addEventListener("click",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",t)}},[]);let T=(0,s.useMemo)(()=>"anywhere"===o.destinationMode?"Anywhere":o.destinationText?o.destinationText:"City, region or property",[o.destinationMode,o.destinationText]),I=(0,s.useMemo)(()=>o.checkInDate&&o.checkOutDate?`${o.checkInDate} — ${o.checkOutDate}`:o.checkInDate?`${o.checkInDate} — Select check-out`:"Select dates",[o.checkInDate,o.checkOutDate]),M=(0,s.useMemo)(()=>{let e=o.adults??1,t=o.children??0,s=o.rooms??1,l=`${e} adult${1===e?"":"s"}`,a=t>0?` \xb7 ${t} child${1===t?"":"ren"}`:"",r=` \xb7 ${s} room${1===s?"":"s"}`;return`${l}${a}${r}`},[o.adults,o.children,o.rooms]),F=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs sm:text-sm",children:[(0,t.jsx)("button",{type:"button",onClick:()=>A("specific"),className:`px-3 py-1.5 rounded-full border text-xs sm:text-sm ${"specific"===o.destinationMode?"bg-teal-600 text-white border-teal-600":"bg-slate-50 text-slate-700 border-slate-200 hover:bg-slate-100"}`,children:"Specific destination"}),(0,t.jsx)("button",{type:"button",onClick:()=>A("anywhere"),className:`px-3 py-1.5 rounded-full border text-xs sm:text-sm ${"anywhere"===o.destinationMode?"bg-teal-600 text-white border-teal-600":"bg-slate-50 text-slate-700 border-slate-200 hover:bg-slate-100"}`,children:"Anywhere"}),(0,t.jsx)("button",{type:"button",onClick:()=>A("budget-first"),className:`px-3 py-1.5 rounded-full border text-xs sm:text-sm ${"budget-first"===o.destinationMode?"bg-teal-600 text-white border-teal-600":"bg-slate-50 text-slate-700 border-slate-200 hover:bg-slate-100"}`,children:"Budget first"})]}),E=o.flightTripType||"round-trip",K="round-trip"===E,R=[{value:"Lahore",label:"Lahore, Pakistan",code:"LHE",airport:"Allama Iqbal International"},{value:"Islamabad",label:"Islamabad, Pakistan",code:"ISB",airport:"Islamabad International"},{value:"Karachi",label:"Karachi, Pakistan",code:"KHI",airport:"Jinnah International"},{value:"Dubai",label:"Dubai, United Arab Emirates",code:"DXB",airport:"Dubai International"},{value:"Jeddah",label:"Jeddah, Saudi Arabia",code:"JED",airport:"King Abdulaziz Intl"},{value:"Riyadh",label:"Riyadh, Saudi Arabia",code:"RUH",airport:"King Khalid International"},{value:"London",label:"London, United Kingdom",code:"LHR",airport:"Heathrow"},{value:"New York",label:"New York, United States",code:"JFK",airport:"John F. Kennedy International"},{value:"Los Angeles",label:"Los Angeles, United States",code:"LAX",airport:"Los Angeles International"},{value:"Toronto",label:"Toronto, Canada",code:"YYZ",airport:"Pearson International"}],B=(o.origin||"").trim().toLowerCase(),O=(o.destination||"").trim().toLowerCase(),H=(0,s.useMemo)(()=>B?R.filter(e=>`${e.label} ${e.code} ${e.airport}`.toLowerCase().includes(B)):R.slice(0,5),[B]),U=(0,s.useMemo)(()=>O?R.filter(e=>`${e.label} ${e.code} ${e.airport}`.toLowerCase().includes(O)):R.slice(0,5),[O]),W=()=>{let e=o.origin;n({origin:o.destination,destination:e})},_=(0,s.useMemo)(()=>{let e=(o.flightAdults||0)+(o.flightStudents||0)+(o.flightSeniors||0)+(o.flightYouths||0)+(o.flightChildren||0)+(o.flightToddlers||0)+(o.flightInfants||0),t=o.travelClass||"economy",s=t.charAt(0).toUpperCase()+t.slice(1).replace("-"," ");return 0===e?`1 traveler, ${s}`:`${e} ${1===e?"traveler":"travelers"}, ${s}`},[o.flightAdults,o.flightStudents,o.flightSeniors,o.flightYouths,o.flightChildren,o.flightToddlers,o.flightInfants,o.travelClass]),G=e=>{if(!e)return"";let t=new Date(e);return`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]} ${t.getMonth()+1}/${t.getDate()}`},z=(0,s.useMemo)(()=>o.departureDate?K&&o.returnDate?`${G(o.departureDate)} – ${G(o.returnDate)}`:G(o.departureDate):"Departure",[o.departureDate,o.returnDate,K]);if("flights"===e)return(0,t.jsxs)("form",{ref:C,onSubmit:P,className:"w-full bg-white rounded-xl md:rounded-2xl shadow-lg border border-slate-100 p-4 md:p-5 lg:p-6",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:F}),(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsxs)("select",{value:E,onChange:e=>x(e.target.value),className:"px-3 py-1.5 rounded-lg border border-slate-200 bg-white text-sm text-slate-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[(0,t.jsx)("option",{value:"round-trip",children:"Round-trip"}),(0,t.jsx)("option",{value:"one-way",children:"One-way"})]})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch bg-white rounded-lg relative",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"From?",value:o.origin,onChange:e=>{n({origin:e.target.value}),w(!0),k(!1),j(!1),L(!1)},onMouseDown:e=>{D.current=!0},onFocus:()=>{console.log("Origin field focused"),D.current=!0,w(!0),k(!1),j(!1),L(!1)},onClick:e=>{e.stopPropagation(),console.log("Origin field clicked"),D.current=!0,w(!0),k(!1),j(!1),L(!1)},className:`w-full px-4 py-3 text-sm focus:outline-none border rounded-lg md:rounded-l-lg md:rounded-r-none md:border-r-0 ${y?"bg-teal-50 border-slate-200":"bg-transparent border-slate-200"}`,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":y}),(0,t.jsx)("button",{type:"button",onClick:W,className:"md:hidden absolute right-3 top-10 -translate-y-1/2 z-10 w-10 h-10 flex items-center justify-center bg-white hover:bg-slate-50 focus:outline-none transition-colors border border-slate-200 rounded-full shadow-sm","aria-label":"Swap origin and destination",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),!y&&(0,t.jsx)("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-px bg-slate-200"}),y&&(0,t.jsxs)("div",{className:"absolute z-50 top-full left-0 mt-2 w-full sm:w-auto min-w-full sm:min-w-[360px] bg-white rounded-xl shadow-xl border border-slate-100 p-3 text-sm max-h-64 overflow-y-auto",style:{position:"absolute",display:"block"},children:[B&&H.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-2 text-xs",children:"Search results"}),(0,t.jsx)("div",{className:"flex flex-col",children:H.map(e=>(0,t.jsxs)("button",{type:"button",className:"px-3 py-2 text-left rounded hover:bg-slate-50 flex items-start gap-3",onClick:t=>{t.preventDefault(),t.stopPropagation(),n({origin:e.value}),w(!1)},children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:e.code})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:e.airport})]})]},`${e.code}-origin`))})]}),B&&0===H.length&&(0,t.jsx)("p",{className:"text-xs text-slate-500 py-2",children:"No airports match your search."}),!B&&H.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-2 text-xs",children:"Popular destinations"}),(0,t.jsx)("div",{className:"flex flex-col",children:H.map(e=>(0,t.jsxs)("button",{type:"button",className:"px-3 py-2 text-left rounded hover:bg-slate-50 flex items-start gap-3",onClick:t=>{t.preventDefault(),t.stopPropagation(),n({origin:e.value}),w(!1)},children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:e.code})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:e.airport})]})]},`${e.code}-popular-origin`))})]})]})]}),(0,t.jsxs)("div",{className:"hidden md:flex relative flex-shrink-0",children:[(0,t.jsx)("button",{type:"button",onClick:W,className:"px-2 h-full flex items-center justify-center bg-white hover:bg-slate-50 focus:outline-none transition-colors border-y border-slate-200","aria-label":"Swap origin and destination",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),!y&&!N&&(0,t.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-px bg-slate-200"})]}),(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"To?",value:o.destination,onChange:e=>{n({destination:e.target.value}),k(!0),w(!1),j(!1),L(!1)},onMouseDown:e=>{D.current=!0},onFocus:()=>{console.log("Destination field focused"),D.current=!0,k(!0),w(!1),j(!1),L(!1)},onClick:e=>{e.stopPropagation(),console.log("Destination field clicked"),D.current=!0,k(!0),w(!1),j(!1),L(!1)},className:`w-full px-4 py-3 text-sm focus:outline-none border rounded-lg md:rounded-none md:border-l-0 md:border-r-0 ${N?"bg-teal-50 border-slate-200":"bg-transparent border-slate-200"}`,"aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":N}),!N&&!v&&(0,t.jsx)("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-px bg-slate-200"}),N&&(0,t.jsxs)("div",{className:"absolute z-50 top-full left-0 mt-2 w-full sm:w-auto min-w-full sm:min-w-[360px] bg-white rounded-xl shadow-xl border border-slate-100 p-3 text-sm max-h-64 overflow-y-auto",style:{position:"absolute",display:"block"},children:[O&&U.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-2 text-xs",children:"Search results"}),(0,t.jsx)("div",{className:"flex flex-col",children:U.map(e=>(0,t.jsxs)("button",{type:"button",className:"px-3 py-2 text-left rounded hover:bg-slate-50 flex items-start gap-3",onClick:t=>{t.preventDefault(),t.stopPropagation(),n({destination:e.value}),k(!1)},children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:e.code})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:e.airport})]})]},`${e.code}-destination`))})]}),O&&0===U.length&&(0,t.jsx)("p",{className:"text-xs text-slate-500 py-2",children:"No airports match your search."}),!O&&U.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-2 text-xs",children:"Popular destinations"}),(0,t.jsx)("div",{className:"flex flex-col",children:U.map(e=>(0,t.jsxs)("button",{type:"button",className:"px-3 py-2 text-left rounded hover:bg-slate-50 flex items-start gap-3",onClick:t=>{t.preventDefault(),t.stopPropagation(),n({destination:e.value}),k(!1)},children:[(0,t.jsx)("div",{className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium text-slate-800",children:e.label}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:e.code})]}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:e.airport})]})]},`${e.code}-popular-destination`))})]})]})]}),(0,t.jsxs)("div",{className:"flex-1 relative overflow-visible",children:[(0,t.jsx)("button",{type:"button",onMouseDown:e=>{D.current=!0},onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Date button clicked, current state:",v),D.current=!0;let t=!v;console.log("Setting dates open to:",t),j(t),w(!1),k(!1),L(!1)},className:`w-full px-4 py-3 text-left text-sm text-slate-700 focus:outline-none border rounded-lg md:rounded-none md:border-l-0 md:border-r-0 ${v?"bg-teal-50 border-slate-200":"bg-transparent border-slate-200 hover:bg-slate-50"}`,children:z}),!v&&!$&&(0,t.jsx)("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-px bg-slate-200"}),v&&(0,t.jsx)("div",{className:"absolute z-50 top-full left-0 mt-2 w-full sm:w-auto min-w-full sm:min-w-[280px] bg-white rounded-xl shadow-xl border border-slate-100 p-4",onClick:e=>{e.stopPropagation(),console.log("Date dropdown clicked")},onMouseDown:e=>{e.stopPropagation()},children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Departure"}),(0,t.jsx)("input",{type:"date",value:o.departureDate,onChange:e=>{S("departureDate")(e),K||j(!1)},className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm"})]}),K&&(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-600",children:"Return"}),(0,t.jsx)("input",{type:"date",value:o.returnDate,onChange:e=>{S("returnDate")(e),o.departureDate&&j(!1)},min:o.departureDate,className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm"})]})]})})]}),(0,t.jsxs)("div",{className:"flex-1 relative overflow-visible",children:[(0,t.jsx)("button",{type:"button",onMouseDown:e=>{D.current=!0},onClick:e=>{e.preventDefault(),e.stopPropagation(),console.log("Travellers button clicked, current state:",$),D.current=!0;let t=!$;console.log("Setting travellers open to:",t),L(t),w(!1),k(!1),j(!1)},className:`w-full px-4 py-3 text-left text-sm text-slate-700 focus:outline-none border rounded-lg md:rounded-none md:border-l-0 ${$?"bg-teal-50 border-slate-200":"bg-transparent border-slate-200 hover:bg-slate-50"}`,children:_}),!$&&(0,t.jsx)("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-px bg-slate-200"}),$&&(0,t.jsx)("div",{className:"absolute z-50 top-full left-0 sm:left-auto sm:right-0 mt-2 w-full sm:w-auto min-w-full sm:min-w-[320px] bg-white rounded-xl shadow-xl border border-slate-100 p-4",onClick:e=>{e.stopPropagation(),console.log("Travellers dropdown clicked")},onMouseDown:e=>{e.stopPropagation()},style:{position:"absolute",display:"block"},children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"Travelers"}),[{id:"adults",label:"Adults",helper:"18-64",min:1},{id:"students",label:"Students",helper:"over 18",min:0},{id:"seniors",label:"Seniors",helper:"over 65",min:0},{id:"youths",label:"Youths",helper:"12-17",min:0},{id:"children",label:"Children",helper:"2-11",min:0},{id:"toddlers",label:"Toddlers in own seat",helper:"under 2",min:0},{id:"infants",label:"Infants on lap",helper:"under 2",min:0}].map(e=>{let s={adults:"flightAdults",students:"flightStudents",seniors:"flightSeniors",youths:"flightYouths",children:"flightChildren",toddlers:"flightToddlers",infants:"flightInfants"}[e.id]||"flightAdults",l=o[s]||0;return(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-800",children:e.label}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:e.helper})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{type:"button",className:"w-7 h-7 flex items-center justify-center rounded-full border border-slate-300 text-slate-700 hover:border-teal-500 hover:text-teal-600 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-300 disabled:hover:text-slate-700 transition-colors",onClick:()=>{let t=Math.max(e.min,l-1),a={[s]:t};"adults"===e.id&&(a.passengers=t),n(a),console.log(`Decreased ${e.id} to ${t}`,a)},disabled:l<=e.min,children:"−"}),(0,t.jsx)("span",{className:"w-8 text-center text-sm font-medium text-slate-800",children:l}),(0,t.jsx)("button",{type:"button",className:"w-7 h-7 flex items-center justify-center rounded-full border border-slate-300 text-slate-700 hover:border-teal-500 hover:text-teal-600 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-300 disabled:hover:text-slate-700 transition-colors",onClick:()=>{let t=l+1,a={[s]:t};"adults"===e.id&&(a.passengers=t),n(a),console.log(`Increased ${e.id} to ${t}`,a)},children:"+"})]})]},e.id)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-slate-800 mb-3",children:"Cabin Class"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["economy","premium-economy","business","first"].map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>n({travelClass:e}),className:`px-3 py-2 rounded-lg border text-sm ${o.travelClass===e?"border-teal-600 bg-teal-50 text-teal-700 font-medium":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"}`,children:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},e))})]})]})})]}),(0,t.jsx)("div",{className:"flex items-stretch flex-shrink-0 w-full md:w-auto mt-2 md:mt-0",children:(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full md:w-auto px-6 py-3 bg-teal-600 hover:bg-teal-700 text-white font-semibold text-sm whitespace-nowrap  md:rounded-r-lg rounded-lg md:rounded-none transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 h-full",children:"Search"})})]})]});let Y=(e,t)=>{"adults"===e&&u(Math.min(6,Math.max(1,(o.adults??1)+t))),"children"===e&&m(Math.min(6,Math.max(0,(o.children??0)+t))),"rooms"===e&&h(Math.min(6,Math.max(1,(o.rooms??1)+t)))},J=[{value:"Lahore",label:"Lahore, Pakistan"},{value:"Islamabad",label:"Islamabad, Pakistan"},{value:"Dubai",label:"Dubai, United Arab Emirates"},{value:"London",label:"London, United Kingdom"},{value:"Los Angeles",label:"Los Angeles, United States"}],X=Array.isArray(o.recentDestinations)&&o.recentDestinations.length>0?o.recentDestinations:[],V=(o.destinationText||"").trim().toLowerCase(),q=(0,s.useMemo)(()=>{if(!V)return[];let e=[...X.map(e=>({value:e,label:e})),...J],t=new Set;return e.filter(e=>{let s=e.value;return!t.has(s)&&(t.add(s),e.label.toLowerCase().includes(V))})},[V,X,J]);return(0,t.jsxs)("form",{ref:C,onSubmit:P,className:"w-full bg-white rounded-xl md:rounded-2xl shadow-lg border border-slate-100 p-4 md:p-5 lg:p-6 flex flex-col gap-3 md:gap-4",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:F}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[minmax(0,2.2fr)_minmax(0,2.2fr)_minmax(0,1.6fr)_auto] gap-3 md:gap-4 items-stretch",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-700",children:"Where are you going?"}),(0,t.jsx)("input",{type:"text",value:o.destinationText,onChange:e=>{n({destinationText:e.target.value,destinationMode:"specific"}),b(!0),g(!1),j(!1)},onFocus:()=>{b(!0),g(!1),j(!1)},placeholder:T,className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-sm text-slate-700 bg-white hover:border-teal-500 focus:outline-none focus:ring-2 focus:ring-teal-500","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":p}),p&&(0,t.jsxs)("div",{className:"absolute z-20 top-full left-0 mt-2 w-full md:w-[360px] bg-white rounded-xl shadow-xl border border-slate-100 p-3 text-xs sm:text-sm",children:[V&&q.length>0&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-1",children:"Search results"}),(0,t.jsx)("div",{className:"flex flex-col",children:q.map(e=>(0,t.jsx)("button",{type:"button",className:"px-2 py-1.5 text-left rounded hover:bg-slate-50",onClick:()=>{n({destinationText:e.value,destinationMode:"specific"}),b(!1)},children:e.label},e.label))})]}),!V&&X.length>0&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-1",children:"Your recent searches"}),(0,t.jsx)("div",{className:"flex flex-col",children:X.map(e=>(0,t.jsx)("button",{type:"button",className:"px-2 py-1.5 text-left rounded hover:bg-slate-50",onClick:()=>{n({destinationText:e,destinationMode:"specific"}),b(!1)},children:e},e))})]}),!V&&(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold text-slate-700 mb-1",children:"Trending destinations"}),(0,t.jsx)("div",{className:"flex flex-col",children:J.map(e=>(0,t.jsx)("button",{type:"button",className:"px-2 py-1.5 text-left rounded hover:bg-slate-50",onClick:()=>{n({destinationText:e.value,destinationMode:"specific"}),b(!1)},children:e.label},e.label))})]}),V&&0===q.length&&(0,t.jsx)("p",{className:"text-[11px] text-slate-500",children:"No destinations match your search."})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-700",children:"Check-in — Check-out"}),(0,t.jsx)("button",{type:"button",className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-left text-sm text-slate-700 bg-white hover:border-teal-500 focus:outline-none focus:ring-2 focus:ring-teal-500",onClick:()=>{j(!0),b(!1),g(!1)},"aria-haspopup":"dialog","aria-expanded":v,children:I}),v&&(0,t.jsxs)("div",{className:"absolute z-20 top-full left-0 mt-2 w-full md:w-[420px] bg-white rounded-xl shadow-xl border border-slate-100 p-3 text-xs sm:text-sm",role:"dialog","aria-label":"Select dates",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold text-slate-600",children:"Check-in"}),(0,t.jsx)("input",{type:"date",value:o.checkInDate,onChange:S("checkInDate"),className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-xs sm:text-sm"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[11px] font-semibold text-slate-600",children:"Check-out"}),(0,t.jsx)("input",{type:"date",value:o.checkOutDate,onChange:S("checkOutDate"),className:"w-full px-3 py-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-xs sm:text-sm"})]})]}),(0,t.jsx)("p",{className:"mt-2 text-[11px] text-slate-500",children:"We're in beta. You'll see real availability from partner sites."})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 relative",children:[(0,t.jsx)("label",{className:"text-xs font-semibold text-slate-700",children:"Travellers"}),(0,t.jsx)("button",{type:"button",className:`w-full px-3 py-2 rounded-lg border text-left text-sm text-slate-700 bg-white hover:border-teal-500 focus:outline-none focus:ring-2 focus:ring-teal-500 ${f?"border-teal-500 ring-2 ring-teal-500":"border-slate-200"}`,onClick:()=>{g(e=>!e),b(!1),j(!1)},"aria-haspopup":"dialog","aria-expanded":f,children:M}),f&&(0,t.jsxs)("div",{className:"absolute z-20 top-full left-0 mt-2 w-full md:w-[380px] bg-white rounded-xl shadow-xl border border-slate-100 p-4 text-xs sm:text-sm",role:"dialog","aria-label":"Select travellers",children:[[{id:"adults",label:"Adults",helper:"Ages 18+"},{id:"children",label:"Children",helper:"Ages 0–17"},{id:"rooms",label:"Rooms",helper:""}].map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-3 border-b border-slate-200 last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-800",children:e.label}),e.helper&&(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:e.helper})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full border-2 border-slate-300 text-slate-700 hover:border-teal-500 hover:text-teal-600 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-300 disabled:hover:text-slate-700 transition-colors",onClick:()=>Y(e.id,-1),disabled:"adults"===e.id&&(o.adults??1)<=1||"children"===e.id&&(o.children??0)<=0||"rooms"===e.id&&(o.rooms??1)<=1,children:(0,t.jsx)("span",{className:"text-lg leading-none",children:"−"})}),(0,t.jsx)("span",{className:"w-8 text-center text-base font-medium text-slate-800",children:"adults"===e.id?o.adults??1:"children"===e.id?o.children??0:o.rooms??1}),(0,t.jsx)("button",{type:"button",className:"w-8 h-8 flex items-center justify-center rounded-full border-2 border-slate-300 text-slate-700 hover:border-teal-500 hover:text-teal-600 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:border-slate-300 disabled:hover:text-slate-700 transition-colors",onClick:()=>Y(e.id,1),disabled:"adults"===e.id&&(o.adults??1)>=6||"children"===e.id&&(o.children??0)>=6||"rooms"===e.id&&(o.rooms??1)>=6,children:(0,t.jsx)("span",{className:"text-lg leading-none",children:"+"})})]})]},e.id)),(0,t.jsx)("p",{className:"mt-3 text-xs text-slate-500",children:"We're in beta. Final availability and pricing come from partner sites."}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)(a.default,{type:"button",size:"sm",variant:"primary",onClick:()=>g(!1),children:"Done"})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 justify-end",children:[(0,t.jsx)("div",{className:"h-5"}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full whitespace-nowrap px-3 py-2 bg-teal-600 hover:bg-teal-700 text-white font-semibold text-sm rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:"Search"})]})]})]})}function i({currentPage:e,totalPages:s,totalItems:l,itemsPerPage:a,onPageChange:r,itemLabel:i="items"}){if(s<=1)return null;let o=Math.min(e*a,l);return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 mt-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>r(e-1),disabled:1===e,className:"px-4 py-2 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let t=[];if(s<=5)for(let e=1;e<=s;e++)t.push(e);else if(e<=3){for(let e=1;e<=4;e++)t.push(e);t.push("..."),t.push(s)}else if(e>=s-2){t.push(1),t.push("...");for(let e=s-3;e<=s;e++)t.push(e)}else{t.push(1),t.push("...");for(let s=e-1;s<=e+1;s++)t.push(s);t.push("..."),t.push(s)}return t})().map((s,l)=>"..."===s?(0,t.jsx)("span",{className:"px-2 text-slate-400",children:"..."},`ellipsis-${l}`):(0,t.jsx)("button",{onClick:()=>r(s),className:`w-10 h-10 rounded-lg font-medium transition-colors text-sm ${e===s?"bg-teal-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:s},s))}),(0,t.jsx)("button",{onClick:()=>r(e+1),disabled:e===s,className:"px-4 py-2 rounded-lg bg-slate-100 text-slate-700 hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-medium",children:"Next"})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",(e-1)*a+1," - ",o," of ",l," ",i]})]})}e.s(["default",()=>r],24663),e.s(["default",()=>i],20616)},17944,e=>{"use strict";var t=e.i(93955),s=e.i(47400),l=e.i(70064),a=e.i(62954),r=e.i(44314),i=e.i(36982),o=e.i(24663),n=e.i(7120),d=e.i(8004),c=e.i(86766);function x({hotel:e,badge:s,showDistance:l=!0}){if(!e)return null;let r=e.rating>=9?"Wonderful":e.rating>=8?"Very good":"Good";return(0,t.jsx)(a.default,{className:"border-slate-200 hover:border-teal-400 transition-colors",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 md:gap-6",children:[(0,t.jsx)("div",{className:"w-full md:w-64 flex-shrink-0",children:(0,t.jsxs)("div",{className:"relative w-full h-44 md:h-48 rounded-lg overflow-hidden bg-slate-100",children:[(0,t.jsx)("img",{src:e.mainImage||e.image||"/images/hotel-placeholder.jpg",alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/images/hotel-placeholder.jpg"}}),s&&(0,t.jsx)("span",{className:"absolute top-2 left-2 bg-amber-500 text-white text-[11px] font-semibold px-2 py-1 rounded",children:s})]})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 cursor-pointer",title:e.name,children:e.name?.length>20?`${e.name.substring(0,20)}...`:e.name}),(0,t.jsxs)("p",{className:"text-xs text-slate-600",children:[e.location.city," • ",e.location.address]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"bg-teal-600 text-white rounded-md px-2 py-1 text-sm font-semibold",children:e.rating.toFixed(1)}),(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("p",{className:"font-semibold text-slate-800",children:r}),(0,t.jsx)("p",{className:"text-slate-500",children:"Guest reviews"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsx)("div",{className:"flex",children:(e=>{let s=Math.floor(e),l=[];for(let e=0;e<s;e++)l.push((0,t.jsx)("span",{className:"text-yellow-400 text-sm",children:"★"},e));e%1!=0&&l.push((0,t.jsx)("span",{className:"text-yellow-400 text-sm",children:"☆"},"half"));let a=5-Math.ceil(e);for(let e=0;e<a;e++)l.push((0,t.jsx)("span",{className:"text-slate-300 text-sm",children:"★"},`empty-${e}`));return l})(e.rating)}),(0,t.jsx)("span",{className:"text-slate-500",children:"Based on sample data"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.amenities.map((e,s)=>(0,t.jsx)("span",{className:"text-[11px] bg-teal-50 text-teal-700 px-2 py-1 rounded-full border border-teal-100",children:e},s)),(0,t.jsx)("span",{className:"text-[11px] bg-indigo-50 text-indigo-700 px-2 py-1 rounded-full border border-indigo-100",children:e.available?"Available on partner sites":"Temporarily unavailable"})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3 mt-1",children:[(0,t.jsx)("div",{className:"text-xs text-slate-600",children:(0,t.jsx)("p",{children:"2 nights • prices from partner sites"})}),(0,t.jsxs)("div",{className:"flex items-end gap-3",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-xl sm:text-2xl font-bold text-teal-600",children:e.price?.formatted||(0,c.formatPriceWithCurrency)(e.pricePerNight)}),(0,t.jsx)("p",{className:"text-[11px] text-slate-500",children:"per night • pay on partner site"})]}),(0,t.jsx)(d.default,{variant:"primary",size:"sm",className:"whitespace-nowrap",children:"View deal"})]})]})]})]})})}var u=e.i(20616);function m(){let{filters:e,searchResults:d,updateSearchResults:c}=(0,i.useStore)(),[m,h]=(0,s.useState)(!1),[p,b]=(0,s.useState)({}),[f,g]=(0,s.useState)(1),v=(0,s.useRef)(!1);(0,s.useEffect)(()=>{v.current||d.hotels&&0!==d.hotels.length||(v.current=!0,(async()=>{h(!0);try{let e=await (0,r.searchHotels)({});c("hotels",e)}catch(e){console.error("Error loading hotels:",e)}finally{h(!1)}})())},[d.hotels,c]);let j=async e=>{if(!m){h(!0);try{let t=await (0,r.searchHotels)({city:e.destinationText||e.origin||""});c("hotels",t)}catch(e){console.error("Error searching hotels:",e)}finally{h(!1)}}},y=(0,s.useMemo)(()=>{let e=d.hotels||[];if(p.minPrice){let t=Number(p.minPrice);e=e.filter(e=>e.pricePerNight>=t)}if(p.maxPrice){let t=Number(p.maxPrice);e=e.filter(e=>e.pricePerNight<=t)}if(p.minRating){let t=Number(p.minRating);e=e.filter(e=>e.rating>=t)}if(Array.isArray(p.propertyTypes)&&p.propertyTypes.length>0&&(e=e.filter(e=>p.propertyTypes.includes(e.propertyType))),Array.isArray(p.popularAmenities)&&p.popularAmenities.length>0&&(e=e.filter(e=>{let t=e.amenities||[];return p.popularAmenities.every(e=>t.includes(e))})),p.maxDistanceKm){let t=Number(p.maxDistanceKm);e=e.filter(e=>"number"!=typeof e.distanceFromCenterKm||e.distanceFromCenterKm<=t)}return e},[d.hotels,p]),w=Math.ceil(y.length/8),N=(0,s.useMemo)(()=>{let e=(f-1)*8;return y.slice(e,e+8)},[y,f]);return(0,s.useEffect)(()=>{g(1)},[p,d.hotels]),(0,t.jsx)(l.default,{children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6 md:space-y-8",children:[(0,t.jsxs)("section",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Stays"}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-slate-900",children:"Find your next stay with Holivo"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-slate-600 max-w-2xl",children:"Search and compare hotels from our trusted partner sites. We're in beta and continuously improving our platform."})]}),(0,t.jsx)(o.default,{mode:"hotels",onSearch:j,loading:m}),(0,t.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6 items-start",children:[(0,t.jsx)("div",{className:"md:col-span-4 lg:col-span-3",children:(0,t.jsx)(n.default,{mode:"hotels",onChange:b})}),(0,t.jsxs)("div",{className:"space-y-4 md:col-span-8 lg:col-span-9",children:[(0,t.jsx)(a.default,{className:"border-slate-200",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-800",children:y.length>0?`${y.length} properties found`:"No properties match your current filters"}),(0,t.jsxs)("p",{className:"text-xs text-slate-500",children:["Location:"," ",(0,t.jsx)("span",{className:"font-medium",children:e.destinationText||e.origin||"Any destination"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"text-slate-500",children:"Sort by:"}),(0,t.jsx)("button",{className:"px-3 py-1.5 rounded-full bg-teal-600 text-white font-semibold",children:"Our top picks"}),(0,t.jsx)("button",{className:"px-3 py-1.5 rounded-full bg-slate-100 text-slate-700",children:"Lowest price"}),(0,t.jsx)("button",{className:"px-3 py-1.5 rounded-full bg-slate-100 text-slate-700",children:"Review score"})]})]})}),m&&(0,t.jsx)(a.default,{className:"border-slate-200",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600"}),(0,t.jsx)("p",{className:"mt-2 text-slate-600 text-sm",children:"Loading hotels…"})]})}),!m&&y.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-3",children:N.map((e,s)=>(0,t.jsx)(x,{hotel:e,badge:1===f&&0===s?"Featured":void 0},e.id))}),(0,t.jsx)(u.default,{currentPage:f,totalPages:w,totalItems:y.length,itemsPerPage:8,onPageChange:g,itemLabel:"properties"})]}),!m&&(!d.hotels||0===d.hotels.length)&&(0,t.jsxs)(a.default,{className:"bg-teal-50 border-teal-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2 text-teal-800",children:"Start exploring stays"}),(0,t.jsxs)("ul",{className:"list-disc list-inside text-slate-700 space-y-1 text-sm mb-3",children:[(0,t.jsx)("li",{children:"Search for Los Angeles to see a realistic list layout."}),(0,t.jsx)("li",{children:"Adjust budget and review score filters on the left."}),(0,t.jsx)("li",{children:'When connected to partners, "View deal" will redirect you to complete your booking on their site.'})]})]})]})]})]})})}e.s(["default",()=>m],17944)}]);